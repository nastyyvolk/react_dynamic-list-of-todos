{"version":3,"sources":["components/TodoList/TodoList.tsx","api.js","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["TodoList","state","query","filterByStatus","handleChange","event","target","name","value","setState","filterTasks","todos","visibleTasks","filter","todo","title","toLowerCase","includes","completed","this","props","onComplete","selectUser","selectedUser","className","htmlFor","id","onChange","map","classNames","type","readOnly","checked","userId","onClick","React","Component","request","url","fetch","then","response","ok","Error","status","statusText","json","getUser","CurrentUser","user","prevProps","email","phone","App","selectedUserId","completeTask","currentState","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.08a9d814.chunk.js","sourcesContent":["import React from 'react';\nimport './TodoList.scss';\nimport classNames from 'classnames';\n\ntype Props = {\n  selectUser: (userId: number) => void;\n  todos: Todo[];\n  onComplete: (id: number) => void;\n  selectedUser: number;\n};\n\ntype State = {\n  query: string;\n  filterByStatus: string;\n};\n\nexport class TodoList extends React.Component<Props, State> {\n  state: State = {\n    query: '',\n    filterByStatus: '',\n  };\n\n  handleChange = (event: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\n    const { name, value } = event.target;\n\n    this.setState({ [name]: value } as Pick<State, keyof State>);\n  };\n\n  filterTasks = (todos: Todo[]) => {\n    const { query, filterByStatus } = this.state;\n\n    let visibleTasks = [...todos].filter(todo => {\n      if (todo.title) {\n        return todo.title.toLowerCase().includes(query.toLowerCase());\n      }\n\n      return false;\n    });\n\n    if (filterByStatus === 'active') {\n      visibleTasks = visibleTasks.filter(todo => !todo.completed);\n    } else if (filterByStatus === 'completed') {\n      visibleTasks = visibleTasks.filter(todo => todo.completed);\n    }\n\n    return visibleTasks;\n  };\n\n  render() {\n    const {\n      todos,\n      onComplete,\n      selectUser,\n      selectedUser,\n    } = this.props;\n    const { query, filterByStatus } = this.state;\n    const visibleTasks = this.filterTasks(todos);\n\n    return (\n      <div className=\"TodoList\">\n        <h2>Todos:</h2>\n        <div className=\"form-field\">\n          <label htmlFor=\"query\">\n            Search todos:\n          </label>\n          <input\n            name=\"query\"\n            id=\"query\"\n            value={query}\n            onChange={this.handleChange}\n          />\n\n          <label htmlFor=\"filterByStatus\">Show: </label>\n          <select\n            name=\"filterByStatus\"\n            id=\"filterByStatus\"\n            onChange={this.handleChange}\n            value={filterByStatus}\n          >\n            <option value=\"all\">All</option>\n            <option value=\"active\">Active</option>\n            <option value=\"completed\">Completed</option>\n          </select>\n        </div>\n\n        <div className=\"TodoList__list-container\">\n          <ul className=\"TodoList__list\">\n            {\n              visibleTasks.map(todo => (\n                <li\n                  className={classNames('TodoList__item', {\n                    'TodoList__item--unchecked': !todo.completed,\n                    'TodoList__item--checked': todo.completed,\n                  })}\n                  key={todo.id}\n                >\n                  <label>\n                    <input\n                      type=\"checkbox\"\n                      readOnly\n                      checked={todo.completed}\n                      onChange={() => onComplete(todo.id)}\n                    />\n                    <p>{todo.title}</p>\n                  </label>\n\n                  <button\n                    className={classNames('TodoList__user-button', 'button', {\n                      'TodoList__user-button--selected': selectedUser === todo.userId,\n                    })}\n                    type=\"button\"\n                    onClick={() => {\n                      selectUser(todo.userId);\n                    }}\n                  >\n                    User&nbsp;#\n                    {todo.userId}\n                  </button>\n                </li>\n              ))\n            }\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n","const BASE_URL = 'https://mate.academy/students-api';\n\nconst request = (url) => {\n  return fetch(`${BASE_URL}${url}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(`${response.status} - ${response.statusText}`);\n      }\n\n      return response.json();\n    });\n};\n\nexport const getTodos = () => request('/todos');\nexport const getUser = (id) => request(`/users/${id}`);\n","import React from 'react';\nimport './CurrentUser.scss';\nimport { getUser } from '../../api';\n\ntype Props = {\n  userId: number;\n  selectUser: (id: number) => void;\n};\n\ntype State = {\n  user: User | null;\n};\n\nexport class CurrentUser extends React.Component<Props, State> {\n  state: State = {\n    user: null,\n  };\n\n  componentDidMount() {\n    this.getUser();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.userId !== this.props.userId) {\n      this.getUser();\n    }\n  }\n\n  getUser = () => {\n    getUser(this.props.userId)\n      .then(user => {\n        this.setState({ user });\n      });\n  };\n\n  render() {\n    const { user } = this.state;\n    const { selectUser } = this.props;\n\n    return (\n      <div className=\"CurrentUser\">\n        { (user) && (\n          <>\n            <h2 className=\"CurrentUser__title\">\n              {'Selected user: '}\n              {user.id}\n            </h2>\n            <h3 className=\"CurrentUser__name\">{user.name}</h3>\n            <p className=\"CurrentUser__email\">{user.email}</p>\n            <p className=\"CurrentUser__phone\">{user.phone}</p>\n            <button\n              className=\"TodoList__user-button TodoList__user-button--selected button\"\n              type=\"button\"\n              onClick={() => selectUser(0)}\n            >\n              Clear\n            </button>\n          </>\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getTodos } from './api';\n\ninterface State {\n  selectedUserId: number;\n  todos: Todo[];\n}\n\nclass App extends React.Component<{}, State> {\n  state: State = {\n    selectedUserId: 0,\n    todos: [],\n  };\n\n  componentDidMount() {\n    getTodos()\n      .then(todos => {\n        this.setState({ todos });\n      });\n  }\n\n  selectUser = (userId: number) => {\n    this.setState({ selectedUserId: userId });\n  };\n\n  completeTask = (id: number) => {\n    this.setState(currentState => (\n      {\n        todos: currentState.todos.map(todo => {\n          if (todo.id === id) {\n            return {\n              ...todo,\n              completed: true,\n            };\n          }\n\n          return todo;\n        }),\n      }\n    ));\n  };\n\n  render() {\n    const { selectedUserId, todos } = this.state;\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          <TodoList\n            selectUser={this.selectUser}\n            todos={todos}\n            onComplete={this.completeTask}\n            selectedUser={selectedUserId}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {selectedUserId ? (\n              <CurrentUser\n                userId={selectedUserId}\n                selectUser={this.selectUser}\n              />\n            ) : 'No user selected'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}